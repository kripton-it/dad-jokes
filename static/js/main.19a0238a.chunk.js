(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{28:function(e,t,a){e.exports=a(58)},33:function(e,t,a){},34:function(e,t,a){},40:function(e,t,a){},57:function(e,t,a){},58:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),s=a(24),r=a.n(s),c=(a(33),a(34),a(27)),i=a(3),u=a.n(i),l=a(26),p=a(7),m=a(8),d=a(9),k=a(11),f=a(10),h=a(12),v=a(5),j=a(6),g=(a(40),function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(k.a)(this,Object(f.a)(t).call(this,e))).handleUpClick=function(){var e=a.props,t=e.id;(0,e.upVote)(t)},a.handleDownClick=function(){var e=a.props,t=e.id;(0,e.downVote)(t)},a._getIndex=function(){var e=a.props.votes;return e<0?0:Math.floor(e/3)+1},a.getColor=function(){return a.props.colors[a._getIndex()]},a.getEmoji=function(){return a.props.emojiClasses[a._getIndex()]},a.state={},a}return Object(h.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.props,t=e.text,a=e.votes;return o.a.createElement("div",{className:"Joke"},o.a.createElement("div",{className:"Joke-buttons"},o.a.createElement("button",{className:"Joke-button Joke-button-up",onClick:this.handleUpClick},o.a.createElement(v.a,{icon:j.b})),o.a.createElement("span",{className:"Joke-votes",style:{borderColor:this.getColor()}},a),o.a.createElement("button",{className:"Joke-button Joke-button-down",onClick:this.handleDownClick},o.a.createElement(v.a,{icon:j.a}))),o.a.createElement("div",{className:"Joke-text"},t),o.a.createElement("div",{className:"Joke-smiley"},o.a.createElement("i",{className:"em em-".concat(this.getEmoji())})))}}]),t}(n.Component));g.defaultProps={colors:["#f44336","#FF9800","#FFC107","#FFEB3B","#CDDC39","#8BC34A","#4CAF50"],emojiClasses:["angry","confused","neutral_face","slightly_smiling_face","smiley","laughing","rolling_on_the_floor_laughing"]};var b=g,J=a(25),w=a.n(J),E=(a(57),function(e){function t(){var e,a;Object(m.a)(this,t);for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return(a=Object(k.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(o)))).state={jokes:JSON.parse(window.localStorage.getItem("jokes")||"[]"),isLoading:!1},a.jokesSet=new Set(a.state.jokes.map(function(e){return e.id})),a.getJokes=Object(p.a)(u.a.mark(function e(){var t,n,o,s,r;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,t=[];case 2:if(!(t.length<a.props.jokesNumberToGet)){e.next=10;break}return e.next=5,w.a.get("https://icanhazdadjoke.com/",{headers:{Accept:"application/json"}});case 5:n=e.sent,o=n.data,s=o.id,r=o.joke,a.jokesSet.has(s)||(a.jokesSet.add(s),t.push({id:s,text:r,votes:0})),e.next=2;break;case 10:return e.abrupt("return",[].concat(Object(l.a)(a.state.jokes),t));case 13:return e.prev=13,e.t0=e.catch(0),alert(e.t0),e.abrupt("return",a.state.jokes);case 17:case"end":return e.stop()}},e,null,[[0,13]])})),a.fetchJokes=function(){a.setState({isLoading:!0},Object(p.a)(u.a.mark(function e(){var t;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.getJokes();case 2:t=e.sent,a.setState(function(){return{jokes:t.sort(function(e,t){return t.votes-e.votes}),isLoading:!1}},a.updateLocalStorage);case 4:case"end":return e.stop()}},e)})))},a._changeVote=function(e,t){a.setState(function(a){return{jokes:a.jokes.map(function(a){return a.id===e?Object(c.a)({},a,{votes:a.votes+ +t}):a})}},a.updateLocalStorage)},a.upVote=function(e){a._changeVote(e,1)},a.downVote=function(e){a._changeVote(e,-1)},a.handleNewJokesClick=Object(p.a)(u.a.mark(function e(){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a.fetchJokes();case 1:case"end":return e.stop()}},e)})),a.updateLocalStorage=function(){window.localStorage.setItem("jokes",JSON.stringify(a.state.jokes))},a}return Object(h.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){var e=Object(p.a)(u.a.mark(function e(){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:0===this.state.jokes.length&&this.fetchJokes();case 1:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;if(this.state.isLoading)return o.a.createElement("div",{className:"JokeList-spinner"},o.a.createElement(v.a,{icon:j.c,spin:!0,size:"8x"}),o.a.createElement("h1",{className:"JokeList-spinner-text"},"Wait for a moment..."));var t=this.state.jokes.map(function(t){return o.a.createElement(b,Object.assign({key:t.id},t,{upVote:e.upVote,downVote:e.downVote}))});return o.a.createElement("div",{className:"JokeList"},o.a.createElement("div",{className:"JokeList-sidebar"},o.a.createElement("h1",{className:"JokeList-title"},o.a.createElement("span",null,"Dad")," Jokes"),o.a.createElement("img",{src:"https://assets.dryicons.com/uploads/icon/svg/8927/0eb14c71-38f2-433a-bfc8-23d9c99b3647.svg",alt:"Dad Jokes"}),o.a.createElement("button",{className:"JokeList-add",onClick:this.handleNewJokesClick},"Fetch Jokes")),o.a.createElement("div",{className:"JokeList-jokes"},t))}}]),t}(n.Component));E.defaultProps={jokesNumberToGet:10};var N=E;var C=function(){return o.a.createElement("div",{className:"App"},o.a.createElement(N,null))};r.a.render(o.a.createElement(C,null),document.getElementById("root"))}},[[28,1,2]]]);
//# sourceMappingURL=main.19a0238a.chunk.js.map